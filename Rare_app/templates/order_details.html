{% extends 'base.html' %}
{% load static %}

<body>

  <!-- ***** Preloader Start ***** -->

  {% block body %}




  <!-- Page Content -->
  <!-- Banner Starts Here -->
  <div class="heading-page header-text">
    <section class="page-heading">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="text-content">
              <h4>Rare.</h4>
              <h2>Order details</h2>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Banner Ends Here -->


  <section class="contact-us">
    <div class="container">
      <div class="row">

        <div class="col-lg-12">
          <div class="down-contact">
            <div class="row">

              <div class="col-lg-6">
                <div class="sidebar-item contact-information">
                  <div class="sidebar-heading">
                    <h2>delivery information</h2>
                  </div>
                  <div class="content">
                    <ul>
                      <li>
                        <h5>{{name}}</h5>
                        <span>Deliver to</span>
                      </li>
                      <li>
                        <h5>{{email}}</h5>
                        <span>EMAIL ADDRESS</span>
                      </li>
                      <li>
                        <h5>{{ord.address.contact_no}}</h5>
                        <span>Contact Number</span>
                      </li>
                      <li>
                        <h5>{{ord.address}}, {{ord.address.zip}}</h5>
                        <span>STREET ADDRESS</span>
                      </li>
                      <li>
                        <h5>{{ord.address.city}}</h5>
                        <span>City</span>
                      </li>
                      <li>
                        <h5>{{ord.address.state}}</h5>
                        <span>State</span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="sidebar-item contact-information">
                  <div class="sidebar-heading">
                    <h2>order information</h2>
                  </div>
                  <div class="content">
                    <ul>
                      <li>
                        <h5>{{ord.id}}</h5>
                        <span>Order ID</span>
                      </li>
                      <li>
                        <h5>{{ord.done_at}}</h5>
                        <span>Ordered At</span>
                      </li>
                      <li>
                        <h5>$ {{ord.amount}}</h5>
                        <span>Amount</span>
                      </li>
                      <li>
                        <h5>{{ord.status}}</h5>
                        <span>Status</span>
                      </li>
                      
                      {% if ord.status != 'Rejected' %}
                        
                      {% if ord.status != 'Delivered' %}
                        
                      <div class="row col-lg-12 mt-5">
                        <div class="main-button btn-block col-lg-4 pl-0 pr-0" onclick="status_show()">
                          <a rel="nofollow" target="_parent"
                            style="background-color: #f48840; border: 0px; color: white;">Change Status</a>
                        </div>
                      </div>
                      <div class="row col-lg-12 mt-5 d-none" id="status">
                        <form method="post">
                          {% csrf_token %}
                          <div class="row col-lg-12">
                            <div class="col-lg-6 w-100 pl-0"><label class="form-control">Order Status</label></div>
                            <div class="col-lg-6">
                              <select id="status" class="form-control" style="width: fit-content;" name="status">
                                <option value="Pending" disabled="true">Pending</option>
                                <option value="Accepted">Accepted</option>
                                <option value="Rejected">Rejected</option>
                                <option value="Dispatched">Dispatched</option>
                                <option value="Shipped">Shipped</option>
                                <option value="Out for delivery">Out for delivery</option>
                                <option value="Delivered">Delivered</option>
                              </select>
                            </div>
                          </div>
                          <div class="row col-lg-12">
                            <fieldset>
                              <button type="submit" class="main-button btn-block w-100 p-2 px-5 mt-3"
                                style="background-color: #f48840; border: 0px; color: white;">POST</button>
                            </fieldset>
                          </div>
                        </form>
                      </div>
                      {% endif %}
                      {% endif %}

                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-12">
          <div class="down-contact">
            <div class="row">


              <div class="col-lg-6">
                <div class="sidebar-item contact-information">
                  <div class="sidebar-heading">
                    <h2>payment information</h2>
                  </div>
                  <div class="content">
                    <ul>
                      <li>
                        <h5>{{pay_details.id}}</h5>
                        <span>Payment ID</span>
                      </li>
                      <li>
                        <h5>{{pay_details.done_at}}</h5>
                        <span>Paid At</span>
                      </li>
                      <li>
                        <h5>$ {{pay_details.amount}}</h5>
                        <span>Amount</span>
                      </li>
                      <li>
                        <h5>{{pay_details.status}}</h5>
                        <span>Status</span>
                      </li>

                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>



      </div>
    </div>
  </section>


  <script>
    function status_show() {
      console.log("clicked");
      var a = document.getElementById("status");
      a.classList.remove("d-none");
    }
  </script>
  {% endblock body %}

</body>

</html>